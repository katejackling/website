{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/philipppolder/Dropbox/Projekte/Kate Jackling/Local Root/kate-jackling/web/components/Img.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport client from \"../client\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport lazySizes from \"lazysizes\";\nimport \"lazysizes/plugins/attrchange/ls.attrchange\";\n\nvar Img =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Img, _React$Component);\n\n  function Img() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Img);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Img)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      dimensions: []\n    });\n\n    return _this;\n  }\n\n  _createClass(Img, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      return client.fetch(\"*[_id == \\\"\".concat(this.props.asset._ref, \"\\\"][0].metadata.dimensions\")).then(function (dimensions) {\n        _this2.setState({\n          dimensions: dimensions\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state$dimension = this.state.dimensions,\n          _this$state$dimension2 = _this$state$dimension.aspectRatio,\n          aspectRatio = _this$state$dimension2 === void 0 ? \"\" : _this$state$dimension2,\n          _this$state$dimension3 = _this$state$dimension.height,\n          height = _this$state$dimension3 === void 0 ? \"\" : _this$state$dimension3,\n          _this$state$dimension4 = _this$state$dimension.width,\n          width = _this$state$dimension4 === void 0 ? \"\" : _this$state$dimension4;\n      var builder = imageUrlBuilder(client);\n      var sizes = [120, 240, 360, 480, 600, 840, 1080, 1320, 1560, 1800, 2040, 2280, 2520, 2760, 3000];\n      var _this$props = this.props,\n          alt = _this$props.alt,\n          asset = _this$props.asset,\n          fit = _this$props.fit;\n      var objFit = fit ? fit : \"none\";\n      var sizeURLs = sizes.map(function (size) {\n        return \"\".concat(builder.image(asset).auto(\"format\").width(size).fit(\"max\").url(), \" \").concat(size, \"w\");\n      });\n      var srcSet = sizeURLs.reduce(function (prev, curr, i) {\n        return i == 0 ? curr : prev + \", \" + curr;\n      }, \"\");\n      return __jsx(\"img\", {\n        draggable: \"false\",\n        className: \"lazyload\",\n        src: \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'  width%3D'\".concat(width, \"' height%3D'\").concat(height, \"' viewBox%3D'0 0 \").concat(width, \" \").concat(height, \"'%2F%3E\\\"\"),\n        \"data-srcset\": srcSet,\n        sizes: \"auto\",\n        \"data-orientation\": aspectRatio < 1 ? \"portrait\" : \"landscape\",\n        style: {\n          \"--imgRatio\": aspectRatio,\n          \"--objFit\": objFit\n        },\n        alt: alt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Img;\n}(React.Component);\n\nexport default Img;","map":{"version":3,"sources":["/Users/philipppolder/Dropbox/Projekte/Kate Jackling/Local Root/kate-jackling/web/components/Img.js"],"names":["client","imageUrlBuilder","lazySizes","Img","dimensions","fetch","props","asset","_ref","then","setState","state","aspectRatio","height","width","builder","sizes","alt","fit","objFit","sizeURLs","map","size","image","auto","url","srcSet","reduce","prev","curr","i","React","Component"],"mappings":";;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,4CAAP;;IAEMC,G;;;;;;;;;;;;;;;;;;4DACG;AAAEC,MAAAA,UAAU,EAAE;AAAd,K;;;;;;;wCAEY;AAAA;;AACnB,aAAOJ,MAAM,CACXK,KADK,sBACc,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,IAD/B,iCAELC,IAFK,CAEA,UAAAL,UAAU,EAAI;AACnB,QAAA,MAAI,CAACM,QAAL,CAAc;AAAEN,UAAAA,UAAU,EAAEA;AAAd,SAAd;AACA,OAJK,CAAP;AAKA;;;6BAEQ;AAAA,kCAC8C,KAAKO,KAAL,CAAWP,UADzD;AAAA,yDACAQ,WADA;AAAA,UACAA,WADA,uCACc,EADd;AAAA,yDACkBC,MADlB;AAAA,UACkBA,MADlB,uCAC2B,EAD3B;AAAA,yDAC+BC,KAD/B;AAAA,UAC+BA,KAD/B,uCACuC,EADvC;AAER,UAAMC,OAAO,GAAGd,eAAe,CAACD,MAAD,CAA/B;AACA,UAAMgB,KAAK,GAAG,CACb,GADa,EAEb,GAFa,EAGb,GAHa,EAIb,GAJa,EAKb,GALa,EAMb,GANa,EAOb,IAPa,EAQb,IARa,EASb,IATa,EAUb,IAVa,EAWb,IAXa,EAYb,IAZa,EAab,IAba,EAcb,IAda,EAeb,IAfa,CAAd;AAHQ,wBAoBoB,KAAKV,KApBzB;AAAA,UAoBAW,GApBA,eAoBAA,GApBA;AAAA,UAoBKV,KApBL,eAoBKA,KApBL;AAAA,UAoBYW,GApBZ,eAoBYA,GApBZ;AAsBR,UAAMC,MAAM,GAAGD,GAAG,GAAGA,GAAH,GAAS,MAA3B;AAEA,UAAME,QAAQ,GAAGJ,KAAK,CAACK,GAAN,CAAU,UAASC,IAAT,EAAe;AACzC,yBAAUP,OAAO,CACfQ,KADQ,CACFhB,KADE,EAERiB,IAFQ,CAEH,QAFG,EAGRV,KAHQ,CAGFQ,IAHE,EAIRJ,GAJQ,CAIJ,KAJI,EAKRO,GALQ,EAAV,cAKWH,IALX;AAMA,OAPgB,CAAjB;AASA,UAAMI,MAAM,GAAGN,QAAQ,CAACO,MAAT,CAAgB,UAASC,IAAT,EAAeC,IAAf,EAAqBC,CAArB,EAAwB;AACtD,eAAOA,CAAC,IAAI,CAAL,GAASD,IAAT,GAAgBD,IAAI,GAAG,IAAP,GAAcC,IAArC;AACA,OAFc,EAEZ,EAFY,CAAf;AAIA,aACC;AACC,QAAA,SAAS,EAAC,OADX;AAEC,QAAA,SAAS,EAAC,UAFX;AAGC,QAAA,GAAG,6GAAsGf,KAAtG,yBAA0HD,MAA1H,8BAAoJC,KAApJ,cAA6JD,MAA7J,cAHJ;AAIC,uBAAaa,MAJd;AAKC,QAAA,KAAK,EAAC,MALP;AAMC,4BAAkBd,WAAW,GAAG,CAAd,GAAkB,UAAlB,GAA+B,WANlD;AAOC,QAAA,KAAK,EAAE;AAAE,wBAAcA,WAAhB;AAA6B,sBAAYO;AAAzC,SAPR;AAQC,QAAA,GAAG,EAAEF,GARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAYA;;;;EA5DgBc,KAAK,CAACC,S;;AA+DxB,eAAe7B,GAAf","sourcesContent":["import client from \"../client\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport lazySizes from \"lazysizes\";\nimport \"lazysizes/plugins/attrchange/ls.attrchange\";\n\nclass Img extends React.Component {\n\tstate = { dimensions: [] };\n\n\tcomponentDidMount() {\n\t\treturn client\n\t\t\t.fetch(`*[_id == \"${this.props.asset._ref}\"][0].metadata.dimensions`)\n\t\t\t.then(dimensions => {\n\t\t\t\tthis.setState({ dimensions: dimensions });\n\t\t\t});\n\t}\n\n\trender() {\n\t\tconst { aspectRatio = \"\", height = \"\", width = \"\" } = this.state.dimensions;\n\t\tconst builder = imageUrlBuilder(client);\n\t\tconst sizes = [\n\t\t\t120,\n\t\t\t240,\n\t\t\t360,\n\t\t\t480,\n\t\t\t600,\n\t\t\t840,\n\t\t\t1080,\n\t\t\t1320,\n\t\t\t1560,\n\t\t\t1800,\n\t\t\t2040,\n\t\t\t2280,\n\t\t\t2520,\n\t\t\t2760,\n\t\t\t3000\n\t\t];\n\t\tconst { alt, asset, fit } = this.props;\n\n\t\tconst objFit = fit ? fit : \"none\";\n\n\t\tconst sizeURLs = sizes.map(function(size) {\n\t\t\treturn `${builder\n\t\t\t\t.image(asset)\n\t\t\t\t.auto(\"format\")\n\t\t\t\t.width(size)\n\t\t\t\t.fit(\"max\")\n\t\t\t\t.url()} ${size}w`;\n\t\t});\n\n\t\tconst srcSet = sizeURLs.reduce(function(prev, curr, i) {\n\t\t\treturn i == 0 ? curr : prev + \", \" + curr;\n\t\t}, \"\");\n\n\t\treturn (\n\t\t\t<img\n\t\t\t\tdraggable=\"false\"\n\t\t\t\tclassName=\"lazyload\"\n\t\t\t\tsrc={`data:image/svg+xml;charset=utf-8,%3Csvg xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'  width%3D'${width}' height%3D'${height}' viewBox%3D'0 0 ${width} ${height}'%2F%3E\"`}\n\t\t\t\tdata-srcset={srcSet}\n\t\t\t\tsizes=\"auto\"\n\t\t\t\tdata-orientation={aspectRatio < 1 ? \"portrait\" : \"landscape\"}\n\t\t\t\tstyle={{ \"--imgRatio\": aspectRatio, \"--objFit\": objFit }}\n\t\t\t\talt={alt}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default Img;\n"]},"metadata":{},"sourceType":"module"}