{"version":3,"file":"static/webpack/static/development/pages/index.js.aaefce34b68c1195ba0d.hot-update.js","sources":["webpack:///./components/ProjectViewerContainer.js"],"sourcesContent":["import { useState, useRef, useDispatch } from \"reactn\";\nimport { throws } from \"assert\";\n\n// import { connect } from \"react-redux\";\n// import { bindActionCreators } from \"redux\";\n// import { setSlide, resetViewer } from \"../utils/redux/actions\";\n\nimport useWindowSize from \"../utils/hooks/useWindowSize\";\nimport { capitalize } from \"../scripts/utils\";\nimport { useSpring, animated, interpolate, config } from \"react-spring\";\nimport { useGesture } from \"react-use-gesture\";\nimport { clamp, debounce } from \"lodash\";\nimport useLockBodyScroll from \"../utils/hooks/useLockBodyScroll\";\n\nimport ProjectViewer from \"./ProjectViewer\";\n\nfunction ProjectViewerContainer(props) {\n\tconst { viewerContent, id, viewerOpen, viewerID, slideIndex, setSlide, resetViewer } = props;\n\tconst [clickEnabled, toggleClick] = useState(false);\n\tconst windowSize = useWindowSize();\n\n\tif (!viewerContent) return <h1>Loading</h1>;\n\n\tconst [{ y }, set] = useSpring(() => ({\n\t\ty: 0,\n\t\tonFrame: function(params) {\n\t\t\tlet { y } = params;\n\n\t\t\tif (Math.abs(y) <= 2) {\n\t\t\t\ttoggleClick(true);\n\t\t\t}\n\t\t\tif (Math.abs(y) >= windowSize.height / 4) {\n\t\t\t\tresetViewer();\n\t\t\t\t//toggleClick(true);\n\t\t\t}\n\t\t},\n\t\tonRest: function() {\n\t\t\ttoggleClick(true);\n\t\t}\n\t}));\n\n\tconst bind = useGesture({\n\t\tonDrag: ({ down, delta, velocity }) => {\n\t\t\tvelocity = clamp(velocity, 1, 8);\n\t\t\ttoggleClick(!down);\n\t\t\tset({\n\t\t\t\ty: down ? delta[1] : 0,\n\t\t\t\tconfig: { mass: velocity, tension: 500 * velocity, friction: 50 }\n\t\t\t});\n\t\t},\n\t\tonWheel: ({ active, delta, velocity, temp = y.getValue() }) => {\n\t\t\tvelocity = clamp(velocity, 1, 8);\n\t\t\ttoggleClick(!active);\n\t\t\tset({\n\t\t\t\ty: active ? temp + delta[1] * -1 : 0,\n\t\t\t\tconfig: { mass: velocity, tension: 500 * velocity, friction: 50 }\n\t\t\t});\n\t\t}\n\t});\n\n\tuseLockBodyScroll();\n\n\treturn (\n\t\t<>\n\t\t\t<animated.div\n\t\t\t\tclassName=\"project__viewer__overlay\"\n\t\t\t\t{...bind()}\n\t\t\t\tstyle={{\n\t\t\t\t\topacity: y.interpolate(\n\t\t\t\t\t\t[-windowSize.height / 4, 0, windowSize.height / 4],\n\t\t\t\t\t\t[0.2, 1, 0.2]\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<h2 className=\"project__viewer__caption\">Test</h2>\n\t\t\t</animated.div>\n\t\t\t<animated.section\n\t\t\t\tclassName=\"project__viewer\"\n\t\t\t\t{...bind()}\n\t\t\t\tstyle={{\n\t\t\t\t\ttransform: viewerOpen ? y.interpolate(y => `translate3d(0,${y}px,0)`) : \"none\",\n\t\t\t\t\topacity: y.interpolate(\n\t\t\t\t\t\t[-windowSize.height / 4, 0, windowSize.height / 4],\n\t\t\t\t\t\t[0.2, 1, 0.2]\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ProjectViewer content={viewerContent} clickEnabled={clickEnabled} />\n\t\t\t\t<style jsx global>{`\n\t\t\t\t\t.project__viewer {\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: calc(100 * var(--vH));\n\t\t\t\t\t\tz-index: 9;\n\t\t\t\t\t\tuser-select: none;\n\t\t\t\t\t\tcursor: grab;\n\t\t\t\t\t}\n\t\t\t\t\t.project__viewer:active {\n\t\t\t\t\t\tcursor: grabbing !important;\n\t\t\t\t\t\tcursor: -moz-grabbing !important;\n\t\t\t\t\t\tcursor: -webkit-grabbing !important;\n\t\t\t\t\t}\n\t\t\t\t\t.project__viewer__overlay {\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\tz-index: 8;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer__caption {\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: var(--marginOuter);\n\t\t\t\t\t\tz-index: 12;\n\t\t\t\t\t}\n\t\t\t\t\t.project__viewer ul {\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer li {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer li.hidden {\n\t\t\t\t\t\tvisibility: hidden;\n\t\t\t\t\t\tz-index: -1;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer figure {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer figure:not(.pair) img,\n\t\t\t\t\t.project__viewer figure:not(.pair) .player__wrapper {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\tleft: 50%;\n\t\t\t\t\t\ttransform: translate(-50%, -50%);\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t}\n\n\t\t\t\t\t[data-orientation=\"portrait\"] video {\n\t\t\t\t\t\twidth: auto;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\n\t\t\t\t\t[data-orientation=\"landscape\"] video {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: auto;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer img,\n\t\t\t\t\t.project__viewer video {\n\t\t\t\t\t\t-moz-user-select: none;\n\t\t\t\t\t\t-webkit-user-select: none;\n\t\t\t\t\t\t-ms-user-select: none;\n\t\t\t\t\t\tuser-select: none;\n\t\t\t\t\t\t-webkit-user-drag: none;\n\t\t\t\t\t\tuser-drag: none;\n\t\t\t\t\t\t-webkit-touch-callout: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer figure.contain {\n\t\t\t\t\t\tmax-width: 100vmin;\n\t\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer figure.contain [data-orientation=\"landscape\"] {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: auto;\n\t\t\t\t\t\tpadding: var(--headerH) 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer figure.contain [data-orientation=\"portrait\"] {\n\t\t\t\t\t\twidth: auto;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tpadding: var(--headerH) 3rem;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer figure.cover [data-orientation=\"landscape\"] {\n\t\t\t\t\t\twidth: auto;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer figure.cover [data-orientation=\"portrait\"] {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: auto;\n\t\t\t\t\t}\n\n\t\t\t\t\t.project__viewer figure.cover [data-orientation=\"portrait\"],\n\t\t\t\t\t.project__viewer figure.cover [data-orientation=\"landscape\"],\n\t\t\t\t\t.project__viewer figure.cover img,\n\t\t\t\t\t.project__viewer figure.cover video {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\n\t\t\t\t\tfigure.pair {\n\t\t\t\t\t\tmax-width: calc(100vmin - 3rem + var(--marginOuter) / 2);\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-wrap: nowrap;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tpadding: calc(var(--headerH) - var(--marginOuter) / 2)\n\t\t\t\t\t\t\tcalc(var(--marginOuter) / 2);\n\t\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\t}\n\t\t\t\t\tfigure.pair img,\n\t\t\t\t\tfigure.pair video {\n\t\t\t\t\t\twidth: 50%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tobject-fit: contain;\n\t\t\t\t\t\tpadding: calc(var(--marginOuter) / 2);\n\t\t\t\t\t}\n\n\t\t\t\t\t@media screen and (max-width: 639px) {\n\t\t\t\t\t\t.project__viewer__caption {\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t@media screen and (min-width: 640px) {\n\t\t\t\t\t\t.project__viewer figure.contain [data-orientation=\"landscape\"] {\n\t\t\t\t\t\t\tpadding: var(--headerH) 3rem;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}</style>\n\t\t\t</animated.section>\n\t\t</>\n\t);\n}\n\nexport default ProjectViewerContainer;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AANA;AAOA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAfA;AAAA;AAPA;AAAA;AAAA;AACA;AAwBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAhBA;AAmBA;AAEA;AAGA;AADA;AAGA;AACA;AADA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AAGA;AACA;AAAA;AAAA;AACA;AAFA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA;AAAA;AAAA;AAwKA;AACA;AACA;;;;A","sourceRoot":""}