(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.blocksToHyperScript = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign"),buildMarksTree=require("./buildMarksTree"),nestLists=require("./nestLists"),generateKeys=require("./generateKeys"),mergeSerializers=require("./mergeSerializers"),optionProps=["projectId","dataset","imageOptions"],isDefined=function(e){return void 0!==e},defaults={imageOptions:{}};function blocksToNodes(e,r,i,t){var s=objectAssign({},defaults,r),n=Array.isArray(s.blocks)?s.blocks:[s.blocks],o=generateKeys(n),a=nestLists(o,s.listNestMode),l=mergeSerializers(i,s.serializers||{}),u=optionProps.reduce(function(e,r){var i=s[r];return isDefined(i)&&(e[r]=i),e},{});function c(r,i,s,n){return isList(r)?(a=(o=r).listItem,p=o.level,m=o._key,d=o.children.map(c),e(l.list,{key:m,level:p,type:a,options:u},d)):isListItem(r)?function(r,i){var t=r._key,s=buildMarksTree(r).map(c);return e(l.listItem,{node:r,serializers:l,index:i,key:t,options:u},s)}(r,function(e,r){for(var i=0,t=0;t<r.length;t++){if(r[t]===e)return i;isListItem(r[t])&&i++}return i}(r,s)):isSpan(r)?t(r,l,i,{serializeNode:c}):function(r,i,t){var s=buildMarksTree(r).map(function(e,r,i){return c(e,r,i,!0)}),n={key:r._key||"block-".concat(i),node:r,isInline:t,serializers:l,options:u};return e(l.block,n,s)}(r,i,n);var o,a,p,m,d}var p=Boolean(s.renderContainerOnSingleChild),m=a.map(c);if(p||m.length>1){var d=s.className?{className:s.className}:{};return e(l.container,d,m)}return m[0]?m[0]:"function"==typeof l.empty?e(l.empty):l.empty}function isList(e){return"list"===e._type&&e.listItem}function isListItem(e){return"block"===e._type&&e.listItem}function isSpan(e){return"string"==typeof e||e.marks||"span"===e._type}module.exports=blocksToNodes;

},{"./buildMarksTree":2,"./generateKeys":3,"./mergeSerializers":6,"./nestLists":7,"object-assign":20}],2:[function(require,module,exports){
"use strict";var defaultMarks=["strong","em","code","underline","strike-through"],buildMarksTree=function(r){var e=r.children,n=r.markDefs;if(!e||!e.length)return[];var a=e.map(sortMarksByOccurences),t={_type:"span",children:[]},i=[t];return e.forEach(function(r,e){var t=a[e];if(t){var s=1;if(i.length>1)for(;s<i.length;s++){var c=i[s].markKey,f=t.indexOf(c);if(-1===f)break;t.splice(f,1)}var l=findLastParentNode(i=i.slice(0,s));if(t.forEach(function(e){var a={_type:"span",_key:r._key,children:[],mark:n.find(function(r){return r._key===e})||e,markKey:e};l.children.push(a),i.push(a),l=a}),isTextSpan(r)){for(var u=r.text.split("\n"),d=u.length;d-- >1;)u.splice(d,0,"\n");l.children=l.children.concat(u)}else l.children=l.children.concat(r)}else{i[i.length-1].children.push(r)}}),t.children};function sortMarksByOccurences(r,e,n){if(!r.marks||0===r.marks.length)return r.marks||[];var a=r.marks.reduce(function(r,a){r[a]=r[a]?r[a]+1:1;for(var t=e+1;t<n.length;t++){var i=n[t];if(!i.marks||!Array.isArray(i.marks)||-1===i.marks.indexOf(a))break;r[a]++}return r},{}),t=sortMarks.bind(null,a);return r.marks.slice().sort(t)}function sortMarks(r,e,n){var a=r[e]||0,t=r[n]||0;if(a!==t)return t-a;var i=defaultMarks.indexOf(e),s=defaultMarks.indexOf(n);return i!==s?i-s:e<n?-1:e>n?1:0}function isTextSpan(r){return"span"===r._type&&"string"==typeof r.text&&(Array.isArray(r.marks)||void 0===r.marks)}function findLastParentNode(r){for(var e=r.length-1;e>=0;e--){var n=r[e];if("span"===n._type&&n.children)return n}}module.exports=buildMarksTree;

},{}],3:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign");function getStaticKey(t){return checksum(JSON.stringify(t)).toString(36).replace(/[^A-Za-z0-9]/g,"")}function checksum(t){var e=0,r=t.length;if(0===r)return e;for(var n=0;n<r;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}module.exports=function(t){return t.map(function(t){return t._key?t:objectAssign({_key:getStaticKey(t)},t)})};

},{"object-assign":20}],4:[function(require,module,exports){
"use strict";var generateHelpUrl=require("@sanity/generate-help-url"),urlBuilder=require("@sanity/image-url"),objectAssign=require("object-assign"),enc=encodeURIComponent,materializeError="You must either:\n  - Pass `projectId` and `dataset` to the block renderer\n  - Materialize images to include the `url` field.\n\nFor more information, see ".concat(generateHelpUrl("block-content-image-materializing")),getQueryString=function(e){var r=e.imageOptions,t=Object.keys(r);if(!t.length)return"";var n=t.map(function(e){return"".concat(enc(e),"=").concat(enc(r[e]))});return"?".concat(n.join("&"))},buildUrl=function(e){var r=e.node,t=e.options,n=t.projectId,i=t.dataset,o=r.asset;if(!o)throw new Error("Image does not have required `asset` property");if(o.url)return o.url+getQueryString(t);if(!n||!i)throw new Error(materializeError);if(!o._ref)throw new Error("Invalid image reference in block, no `_ref` found on `asset`");return urlBuilder(objectAssign({projectId:n,dataset:i},t.imageOptions||{})).image(r).toString()};module.exports=buildUrl;

},{"@sanity/generate-help-url":9,"@sanity/image-url":10,"object-assign":20}],5:[function(require,module,exports){
"use strict";var hyperscript=require("hyperscript"),objectAssign=require("object-assign"),getImageUrl=require("./getImageUrl"),blocksToNodes=require("./blocksToNodes"),getSerializers=require("./serializers"),renderNode=function(e,r,i){var t=r||{};if("function"==typeof e)return e(objectAssign({},t,{children:i}));var s=e,o=t.children||i;return hyperscript(s,t,o)},_getSerializers=getSerializers(renderNode,{useDashedStyles:!0}),defaultSerializers=_getSerializers.defaultSerializers,serializeSpan=_getSerializers.serializeSpan,blockContentToHyperscript=function(e){return blocksToNodes(renderNode,e,defaultSerializers,serializeSpan)};blockContentToHyperscript.defaultSerializers=defaultSerializers,blockContentToHyperscript.getImageUrl=getImageUrl,blockContentToHyperscript.renderNode=renderNode,module.exports=blockContentToHyperscript;

},{"./blocksToNodes":1,"./getImageUrl":4,"./serializers":8,"hyperscript":18,"object-assign":20}],6:[function(require,module,exports){
"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}var objectAssign=require("object-assign"),isDefined=function(o){return void 0!==o};module.exports=function(o,t){return Object.keys(o).reduce(function(e,n){var r=_typeof(o[n]);return e[n]="function"===r?isDefined(t[n])?t[n]:o[n]:"object"===r?objectAssign({},o[n],t[n]):void 0===t[n]?o[n]:t[n],e},{})};

},{"object-assign":20}],7:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign");function nestLists(e){for(var l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",i=[],s=0;s<e.length;s++){var n=e[s];if(isListBlock(n))if(l)if(blockMatchesList(n,l))l.children.push(n);else if(n.level>l.level){var r=listFromBlock(n);if("html"===t){var c=lastChild(l),o=objectAssign({},c,{children:c.children.concat(r)});l.children[l.children.length-1]=o}else l.children.push(r);l=r}else if(n.level<l.level){var h=findListMatching(i[i.length-1],n);if(h){(l=h).children.push(n);continue}l=listFromBlock(n),i.push(l)}else if(n.listItem===l.listItem)console.warn("Unknown state encountered for block",n),i.push(n);else{var u=findListMatching(i[i.length-1],{level:n.level});if(u&&u.listItem===n.listItem){(l=u).children.push(n);continue}l=listFromBlock(n),i.push(l)}else l=listFromBlock(n),i.push(l);else i.push(n),l=null}return i}function isListBlock(e){return Boolean(e.listItem)}function blockMatchesList(e,l){return e.level===l.level&&e.listItem===l.listItem}function listFromBlock(e){return{_type:"list",_key:"".concat(e._key,"-parent"),level:e.level,listItem:e.listItem,children:[e]}}function lastChild(e){return e.children&&e.children[e.children.length-1]}function findListMatching(e,l){var t="string"==typeof l.listItem;if("list"===e._type&&e.level===l.level&&t&&e.listItem===l.listItem)return e;var i=lastChild(e);return!!i&&findListMatching(i,l)}module.exports=nestLists;

},{"object-assign":20}],8:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign"),getImageUrl=require("./getImageUrl");module.exports=function(e,n){var r=n||{useDashedStyles:!1};function t(n,r){return e(n,null,r.children)}return{defaultSerializers:{types:{block:function(n){var r=n.node.style||"normal";return/^h\d/.test(r)?e(r,null,n.children):e("blockquote"===r?"blockquote":"p",null,n.children)},image:function(n){if(!n.node.asset)return null;var r=e("img",{src:getImageUrl(n)});return n.isInline?r:e("figure",null,r)}},marks:{strong:t.bind(null,"strong"),em:t.bind(null,"em"),code:t.bind(null,"code"),underline:function(n){var t=r.useDashedStyles?{"text-decoration":"underline"}:{textDecoration:"underline"};return e("span",{style:t},n.children)},"strike-through":function(n){return e("del",null,n.children)},link:function(n){return e("a",{href:n.mark.href},n.children)}},list:function(n){var r="bullet"===n.type?"ul":"ol";return e(r,null,n.children)},listItem:function(n){var r=n.node.style&&"normal"!==n.node.style?e(n.serializers.types.block,n,n.children):n.children;return e("li",null,r)},block:function(n){var r=n.node,t=n.serializers,i=n.options,l=n.isInline,a=n.children,o=r._type,s=t.types[o];if(!s)throw new Error('Unknown block type "'.concat(o,'", please specify a serializer for it in the `serializers.types` prop'));return e(s,{node:r,options:i,isInline:l},a)},span:function(n){var r=n.node,t=r.mark,i=r.children,l="string"==typeof t?t:t._type,a=n.serializers.marks[l];return a?e(a,n.node,i):(console.warn('Unknown mark type "'.concat(l,'", please specify a serializer for it in the `serializers.marks` prop')),e(n.serializers.markFallback,null,i))},hardBreak:function(){return e("br")},container:"div",markFallback:"span",text:void 0,empty:""},serializeSpan:function(n,r,t,i){if("\n"===n&&r.hardBreak)return e(r.hardBreak,{key:"hb-".concat(t)});if("string"==typeof n)return r.text?e(r.text,{key:"text-".concat(t)},n):n;var l;n.children&&(l={children:n.children.map(function(e,r){return i.serializeNode(e,r,n.children,!0)})});var a=objectAssign({},n,l);return e(r.span,{key:n._key||"span-".concat(t),node:a,serializers:r})}}};

},{"./getImageUrl":4,"object-assign":20}],9:[function(require,module,exports){
var baseUrl="https://docs.sanity.io/help/";module.exports=function(e){return baseUrl+e};

},{}],10:[function(require,module,exports){
module.exports=require("./lib/builder").default;

},{"./lib/builder":11}],11:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=urlBuilder;var _urlForImage=_interopRequireDefault(require("./urlForImage"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){_defineProperty(t,e,i[e])})}return t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var validFits=["clip","crop","fill","fillmax","max","scale","min"],validCrops=["top","bottom","left","right","center","focalpoint","entropy"],validAutoModes=["format"],ImageUrlBuilder=function(){function t(e,i){_classCallCheck(this,t),this.options=e?_objectSpread({},e.options||{},i||{}):i||{}}return _createClass(t,[{key:"withOptions",value:function(e){return new t(this,e)}},{key:"image",value:function(t){return this.withOptions({source:t})}},{key:"dataset",value:function(t){return this.withOptions({dataset:t})}},{key:"projectId",value:function(t){return this.withOptions({projectId:t})}},{key:"bg",value:function(t){return this.withOptions({bg:t})}},{key:"width",value:function(t){return this.withOptions({width:t})}},{key:"height",value:function(t){return this.withOptions({height:t})}},{key:"focalPoint",value:function(t,e){return this.withOptions({focalPoint:{x:t,y:e}})}},{key:"maxWidth",value:function(t){return this.withOptions({maxWidth:t})}},{key:"minWidth",value:function(t){return this.withOptions({minWidth:t})}},{key:"maxHeight",value:function(t){return this.withOptions({maxHeight:t})}},{key:"minHeight",value:function(t){return this.withOptions({minHeight:t})}},{key:"size",value:function(t,e){return this.withOptions({width:t,height:e})}},{key:"blur",value:function(t){return this.withOptions({blur:t})}},{key:"sharpen",value:function(t){return this.withOptions({sharpen:t})}},{key:"rect",value:function(t,e,i,n){return this.withOptions({rect:{left:t,top:e,width:i,height:n}})}},{key:"format",value:function(t){return this.withOptions({format:t})}},{key:"invert",value:function(t){return this.withOptions({invert:t})}},{key:"orientation",value:function(t){return this.withOptions({orientation:t})}},{key:"quality",value:function(t){return this.withOptions({quality:t})}},{key:"forceDownload",value:function(t){return this.withOptions({download:t})}},{key:"flipHorizontal",value:function(){return this.withOptions({flipHorizontal:!0})}},{key:"flipVertical",value:function(){return this.withOptions({flipVertical:!0})}},{key:"ignoreImageParams",value:function(){return this.withOptions({ignoreImageParams:!0})}},{key:"fit",value:function(t){if(-1===validFits.indexOf(t))throw new Error('Invalid fit mode "'.concat(t,'"'));return this.withOptions({fit:t})}},{key:"crop",value:function(t){if(-1===validCrops.indexOf(t))throw new Error('Invalid crop mode "'.concat(t,'"'));return this.withOptions({crop:t})}},{key:"auto",value:function(t){if(-1===validAutoModes.indexOf(t))throw new Error('Invalid auto mode "'.concat(t,'"'));return this.withOptions({auto:t})}},{key:"url",value:function(){return(0,_urlForImage.default)(this.options)}},{key:"toString",value:function(){return this.url()}}]),t}();function urlBuilder(t){return t&&"object"===_typeof(t.clientConfig)?new ImageUrlBuilder(null,{baseUrl:t.clientConfig.apiHost.replace(/^https:\/\/api\./,"https://cdn."),projectId:t.clientConfig.projectId,dataset:t.clientConfig.dataset}):new ImageUrlBuilder(null,t)}

},{"./urlForImage":14}],12:[function(require,module,exports){
"use strict";function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){var t=[],a=!0,i=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){i=!0,n=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw n}}return t}function _arrayWithHoles(e){if(Array.isArray(e))return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=parseAssetId;var example="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function parseAssetId(e){var r=_slicedToArray(e.split("-"),4),t=r[1],a=r[2],i=r[3];if(!t||!a||!i)throw new Error("Malformed asset _ref '".concat(e,"'. Expected an id like \"").concat(example,'".'));var n=_slicedToArray(a.split("x"),2),o=+n[0],l=+n[1];if(!(isFinite(o)&&isFinite(l)))throw new Error("Malformed asset _ref '".concat(e,"'. Expected an id like \"").concat(example,'".'));return{id:t,width:o,height:l,format:i}}

},{}],13:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function parseSource(t){if(!t)return null;var e;if("string"==typeof t&&isUrl(t))e={asset:{_ref:urlToId(t)}};else if("string"==typeof t)e={asset:{_ref:t}};else if("string"==typeof t._ref)e={asset:t};else if(t._id)e={asset:{_ref:t._id}};else if(t.asset&&t.asset.url&&!t.asset._ref)e={asset:{_ref:urlToId(t.asset.url)}};else{if("object"!==_typeof(t.asset))return null;e=t}return t.crop&&(e.crop=t.crop),t.hotspot&&(e.hotspot=t.hotspot),applyDefaults(e)}function isUrl(t){return/^https?:\/\//.test("".concat(t))}function urlToId(t){var e=t.split("/").slice(-1);return"image-".concat(e[0]).replace(/\.([a-z]+)$/,"-$1")}function applyDefaults(t){if(t.crop&&t.hotspot)return t;var e=Object.assign({},t);return e.crop||(e.crop={left:0,top:0,bottom:0,right:0}),e.hotspot||(e.hotspot={x:.5,y:.5,height:1,width:1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=parseSource;

},{}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=urlForImage,Object.defineProperty(exports,"parseSource",{enumerable:!0,get:function(){return _parseSource.default}});var _parseSource=_interopRequireDefault(require("./parseSource")),_parseAssetId=_interopRequireDefault(require("./parseAssetId"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var r=[],o=!0,a=!1,i=void 0;try{for(var n,c=t[Symbol.iterator]();!(o=(n=c.next()).done)&&(r.push(n.value),!e||r.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return r}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var SPEC_NAME_TO_URL_NAME_MAPPINGS=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["auto","auto"]];function urlForImage(t){var e=_objectSpread({},t||{}),r=e.source;delete e.source;var o=(0,_parseSource.default)(r);if(!o)return null;var a=(0,_parseAssetId.default)(o.asset._ref||o.asset._id),i={left:Math.round(o.crop.left*a.width),top:Math.round(o.crop.top*a.height)};i.width=Math.round(a.width-o.crop.right*a.width-i.left),i.height=Math.round(a.height-o.crop.bottom*a.height-i.top);var n=o.hotspot.height*a.height/2,c=o.hotspot.width*a.width/2,h=o.hotspot.x*a.width,u=o.hotspot.y*a.height,l={left:h-c,top:u-n,right:h+c,bottom:u+n};return e.asset=a,e.rect||e.focalPoint||e.ignoreImageParams||e.crop||(e=_objectSpread({},e,fit({crop:i,hotspot:l},e))),specToImageUrl(e)}function specToImageUrl(t){var e=t.baseUrl||"https://cdn.sanity.io",r="".concat(t.asset.id,"-").concat(t.asset.width,"x").concat(t.asset.height,".").concat(t.asset.format),o="".concat(e,"/images/").concat(t.projectId,"/").concat(t.dataset,"/").concat(r),a=[];t.rect&&((0!=t.rect.left||0!=t.rect.top||t.rect.height!=t.asset.height||t.rect.width!=t.asset.width)&&a.push("rect=".concat(t.rect.left,",").concat(t.rect.top,",").concat(t.rect.width,",").concat(t.rect.height)));return t.bg&&a.push("bg=".concat(t.bg)),t.focalPoint&&(a.push("fp-x=".concat(t.focalPoint.x)),a.push("fp-x=".concat(t.focalPoint.y))),(t.flipHorizontal||t.flipVertical)&&a.push("flip=".concat(t.flipHorizontal?"h":"").concat(t.flipVertical?"v":"")),SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function(e){var r=_slicedToArray(e,2),o=r[0],i=r[1];void 0!==t[o]?a.push("".concat(i,"=").concat(encodeURIComponent(t[o]))):void 0!==t[i]&&a.push("".concat(i,"=").concat(encodeURIComponent(t[i])))}),0===a.length?o:"".concat(o,"?").concat(a.join("&"))}function fit(t,e){var r={width:e.width,height:e.height};if(!e.width||!e.height)return r.rect=t.crop,r;var o=t.crop,a=t.hotspot,i=e.width/e.height;if(o.width/o.height>i){var n=o.height,c=n*i,h=o.top,u=(a.right-a.left)/2+a.left-c/2;return u<o.left?u=o.left:u+c>o.left+o.width&&(u=o.left+o.width-c),r.rect={left:Math.round(u),top:Math.round(h),width:Math.round(c),height:Math.round(n)},r}var l=o.width,p=l/i,f=o.left,s=(a.bottom-a.top)/2+a.top-p/2;return s<o.top?s=o.top:s+p>o.top+o.height&&(s=o.top+o.height-p),r.rect={left:Math.max(0,Math.floor(f)),top:Math.max(0,Math.floor(s)),width:Math.round(l),height:Math.round(p)},r}

},{"./parseAssetId":12,"./parseSource":13}],15:[function(require,module,exports){

},{}],16:[function(require,module,exports){
module.exports=function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e;return function(l,r,i){if("[object RegExp]"!==Object.prototype.toString.call(r))return t.call(l,r,i);var o,p,s,c,g=[],u=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),x=0;r=new RegExp(r.source,u+"g");for(l+="",n||(o=new RegExp("^"+r.source+"$(?!\\s)",u)),i=i===e?-1>>>0:i>>>0;(p=r.exec(l))&&!((s=p.index+p[0].length)>x&&(g.push(l.slice(x,p.index)),!n&&p.length>1&&p[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(p[t]=e)}),p.length>1&&p.index<l.length&&Array.prototype.push.apply(g,p.slice(1)),c=p[0].length,x=s,g.length>=i));)r.lastIndex===p.index&&r.lastIndex++;return x===l.length?!c&&r.test("")||g.push(""):g.push(l.slice(x)),g.length>i?g.slice(0,i):g}}();

},{}],17:[function(require,module,exports){
var indexof=require("indexof");function ClassList(n){var t=n.classList;if(t)return t;var r={add:e,remove:i,contains:u,toggle:function(n){return u(n)?(i(n),!1):(e(n),!0)},toString:function(){return n.className},length:0,item:function(n){return o()[n]||null}};return r;function e(n){var t=o();indexof(t,n)>-1||(t.push(n),s(t))}function i(n){var t=o(),r=indexof(t,n);-1!==r&&(t.splice(r,1),s(t))}function u(n){return indexof(o(),n)>-1}function o(){return filter(n.className.split(" "),isTruthy)}function s(t){var e=t.length;n.className=t.join(" "),r.length=e;for(var i=0;i<t.length;i++)r[i]=t[i];delete t[e]}}function filter(n,t){for(var r=[],e=0;e<n.length;e++)t(n[e])&&r.push(n[e]);return r}function isTruthy(n){return!!n}module.exports=ClassList;

},{"indexof":19}],18:[function(require,module,exports){
var split=require("browser-split"),ClassList=require("class-list"),w="undefined"==typeof window?require("html-element"):window,document=w.document,Text=w.Text;function context(){var e=[];function t(){var t=[].slice.call(arguments),n=null;function r(t){var o,i;if(null==t);else if("string"==typeof t)n?n.appendChild(o=document.createTextNode(t)):(i=split(t,/([\.#]?[^\s#.]+)/),/^\.|#/.test(i[1])&&(n=document.createElement("div")),forEach(i,function(e){var t=e.substring(1,e.length);e&&(n?"."===e[0]?ClassList(n).add(t):"#"===e[0]&&n.setAttribute("id",t):n=document.createElement(e))}));else if("number"==typeof t||"boolean"==typeof t||t instanceof Date||t instanceof RegExp)n.appendChild(o=document.createTextNode(t.toString()));else if(isArray(t))forEach(t,r);else if(isNode(t))n.appendChild(o=t);else if(t instanceof Text)n.appendChild(o=t);else if("object"==typeof t)for(var s in t)if("function"==typeof t[s])/^on\w+/.test(s)?function(t,r){n.addEventListener?(n.addEventListener(t.substring(2),r[t],!1),e.push(function(){n.removeEventListener(t.substring(2),r[t],!1)})):(n.attachEvent(t,r[t]),e.push(function(){n.detachEvent(t,r[t])}))}(s,t):(n[s]=t[s](),e.push(t[s](function(e){n[s]=e})));else if("style"===s)if("string"==typeof t[s])n.style.cssText=t[s];else for(var a in t[s])!function(r,o){if("function"==typeof o)n.style.setProperty(r,o()),e.push(o(function(e){n.style.setProperty(r,e)}));else var i=t[s][r].match(/(.*)\W+!important\W*$/);i?n.style.setProperty(r,i[1],"important"):n.style.setProperty(r,t[s][r])}(a,t[s][a]);else if("attrs"===s)for(var f in t[s])n.setAttribute(f,t[s][f]);else"data-"===s.substr(0,5)?n.setAttribute(s,t[s]):n[s]=t[s];else if("function"==typeof t){f=t();n.appendChild(o=isNode(f)?f:document.createTextNode(f)),e.push(t(function(e){isNode(e)&&o.parentElement?(o.parentElement.replaceChild(e,o),o=e):o.textContent=e}))}return o}for(;t.length;)r(t.shift());return n}return t.cleanup=function(){for(var t=0;t<e.length;t++)e[t]();e.length=0},t}var h=module.exports=context();function isNode(e){return e&&e.nodeName&&e.nodeType}function forEach(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function isArray(e){return"[object Array]"==Object.prototype.toString.call(e)}h.context=context;

},{"browser-split":16,"class-list":17,"html-element":15}],19:[function(require,module,exports){
var indexOf=[].indexOf;module.exports=function(e,n){if(indexOf)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1};

},{}],20:[function(require,module,exports){
"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map(function(e){return r[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}module.exports=shouldUseNative()?Object.assign:function(e,r){for(var t,n,o=toObject(e),a=1;a<arguments.length;a++){for(var s in t=Object(arguments[a]))hasOwnProperty.call(t,s)&&(o[s]=t[s]);if(getOwnPropertySymbols){n=getOwnPropertySymbols(t);for(var c=0;c<n.length;c++)propIsEnumerable.call(t,n[c])&&(o[n[c]]=t[n[c]])}}return o};

},{}]},{},[5])(5)
});
